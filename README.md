# Тестовое задание: Dropdown-component

**Демо:** https://amalhazov.github.io/dropdown-task/

Тестовое задание на доработку переиспользуемого dropdown-компонента
и демонстрацию его использования на примере выбора округов и районов г. Москвы.

---

## Что реализовано

### Dropdown компонент

- single-select и multi-select режимы
- поддержка группировки элементов
- disabled-состояние групп и элементов
- поиск по подстроке (case-insensitive)
- отображение выбранных значений
- закрытие по клику вне компонента/Esc
- базовая доступность (a11y): aria-атрибуты, focus management
- реализация на Signals (Angular 21)

### Демонстрационное приложение

- два связанных dropdown:
  - список округов (multi-select, выбраны по умолчанию)
  - список районов, сгруппированных по округам
- снятие выбора округа:
  - дизейблит соответствующую группу районов
  - автоматически очищает выбранные районы из этой группы
- выбранные районы выводятся в виде объектов (`json-pipe`)

---

## Архитектурные решения

### Использование Angular CDK Overlay

Для позиционирования dropdown использован `@angular/cdk/overlay`.

**Причины:**

- корректная работа с viewport и scroll
- управление backdrop и закрытием по клику вне
- отказ от ручного позиционирования и edge-case багов
- подход, применимый в production-коде

В рамках тестового задания это позволило сосредоточиться на логике компонента,
а не на изобретении собственного overlay-движка.

---

### Signals вместо RxJS

Состояние компонента и приложения реализовано через Angular Signals.

**Почему:**

- синхронная и предсказуемая модель данных
- меньше boilerplate по сравнению с Subject / BehaviorSubject
- лучше читаемость для UI-состояний

RxJS не использовался намеренно, так как данные статичны и не асинхронны.

---

## Доступность (a11y)

Реализован минимально достаточный уровень доступности:

- `aria-expanded`, `aria-controls`
- `role="listbox"`, `role="option"`, `aria-selected`
- автоматический фокус на строке поиска при открытии
- закрытие по `Escape`

Навигация стрелками по списку намеренно не реализована полностью —
в рамках тестового задания потребуются дополнительные уточнения по требованиям UX.

---

## Ограничения и допущения

- `data.ts` используется как источник данных без мутаций
- поиск реализован локально без debounce
- dropdown не реализован как CVA, так как в задании нет интеграции с формами
- keyboard navigation ограничена базовым минимумом

Все эти пункты могут быть расширены при наличии дополнительных требований.

---

## Запуск проекта

```bash
npm install
npm start
```
